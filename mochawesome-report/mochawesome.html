<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:3,&quot;tests&quot;:11,&quot;passes&quot;:7,&quot;pending&quot;:0,&quot;failures&quot;:4,&quot;start&quot;:&quot;2024-11-04T09:42:48.378Z&quot;,&quot;end&quot;:&quot;2024-11-04T09:44:01.637Z&quot;,&quot;duration&quot;:73259,&quot;testsRegistered&quot;:11,&quot;passPercent&quot;:63.63636363636363,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;5d3a8e0f-f174-4ec4-999e-e873913c3c36&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;title&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản&quot;,&quot;fullFile&quot;:&quot;D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\test\\tc_14.js&quot;,&quot;file&quot;:&quot;\\test\\tc_14.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản \&quot;before all\&quot; hook in \&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2395,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Khởi tạo WebDriver cho trình duyệt Chrome\ndriver = await new Builder().forBrowser(Browser.CHROME).build();\nawait handleLogin(driver);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c2ff351b-cbaf-48a6-9090-e4388be99e9c&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản \&quot;after all\&quot; hook in \&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:72,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Đóng WebDriver sau khi hoàn thành kiểm thử\nawait driver.quit();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f5ad469-e27e-4256-a5b6-6e3a8b160940&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản \&quot;after each\&quot; hook in \&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1014,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await driver.sleep(1000)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afe549f4-928d-4556-bbf5-791889877afa&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GuiVanBan_TC_14_1 - Gửi tin nhắn văn bản không nhập nội dung tin nhắn vào&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản GuiVanBan_TC_14_1 - Gửi tin nhắn văn bản không nhập nội dung tin nhắn vào&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1887,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst messageInput = await driver.findElement(\n  By.css(\&quot;textarea[name=&#x27;message&#x27;]\&quot;),\n);\nawait messageInput.sendKeys(&#x27;&#x27;); // Đảm bảo ô tin nhắn trống\n// Bước 2: Nhấn Enter để gửi tin nhắn trống\nawait messageInput.sendKeys(Key.ENTER);\nawait driver.sleep(500);\n// Kiểm tra kết quả kỳ vọng: Hiển thị thông báo lỗi\nconst errorElement = await driver.wait(\n  until.elementLocated(\n    By.css(\n      \&quot;.Toastify__toast.Toastify__toast--error\&quot;,\n    ),\n  ),\n  5000,\n);\nconst errorMessage = await errorElement?.getText();\nawait driver.sleep(500);\n// So sánh với thông báo lỗi dự kiến\nexpect(errorMessage).to.equal(\&quot;Nội dung tin nhắn không được để trống\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68246448-6630-4120-bcf6-1fb3cd633e18&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiVanBan_TC_14_2 - Gửi tin nhắn văn bản nhập ký tự khoảng cách&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản GuiVanBan_TC_14_2 - Gửi tin nhắn văn bản nhập ký tự khoảng cách&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1831,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst messageInput = await driver.findElement(\n  By.css(\&quot;textarea[name=&#x27;message&#x27;]\&quot;),\n);\nawait messageInput.sendKeys(&#x27;  &#x27;);\n// Bước 2: Nhấn Enter để gửi tin nhắn trống\nawait messageInput.sendKeys(Key.ENTER);\nawait driver.sleep(500);\n// Kiểm tra kết quả kỳ vọng: Hiển thị thông báo lỗi\nconst errorElement = await driver.wait(\n  until.elementLocated(\n    By.css(\n      \&quot;.Toastify__toast.Toastify__toast--error\&quot;,\n    ),\n  ),\n  5000,\n);\nconst errorMessage = await errorElement?.getText();\nawait driver.sleep(500);\n// So sánh với thông báo lỗi dự kiến\nexpect(errorMessage).to.equal(\&quot;Nội dung tin nhắn không được để trống\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7ae13f41-307f-47ac-bc48-7f3af293c48e&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiVanBan_TC_14_3 - Gửi tin nhắn văn bản nhập dưới 500 ký tự&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản GuiVanBan_TC_14_3 - Gửi tin nhắn văn bản nhập dưới 500 ký tự&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3846,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst messageInput = await driver.findElement(\n  By.css(\&quot;textarea[name=&#x27;message&#x27;]\&quot;),\n);\nconst messageContent = &#x27;nội dung dưới 500 ký tự&#x27;\nawait messageInput.sendKeys(messageContent);\nawait messageInput.sendKeys(Key.ENTER);\nawait driver.sleep(3000);\n// Lấy danh sách tin nhắn\nconst messages = await driver.findElements(By.css(\&quot;.message\&quot;)); // `.message-content` là selector của mỗi tin nhắn\n// Lấy tin nhắn cuối cùng\nconst lastMessage = messages[messages.length - 1];\nconst lastMessageContent = await lastMessage.getText();\n// Kiểm tra xem nội dung tin nhắn cuối có khớp không\nexpect(lastMessageContent).to.equal(messageContent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc3d4ea1-0a43-4c10-ae8d-7b0f01fe59a7&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiVanBan_TC_14_4 - Gửi tin nhắn văn bản nhập trên 500 ký tự&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản GuiVanBan_TC_14_4 - Gửi tin nhắn văn bản nhập trên 500 ký tự&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7725,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\nconst messageInput = await driver.findElement(\n  By.css(\&quot;textarea[name=&#x27;message&#x27;]\&quot;),\n);\nconst messageContent = `Việt Nam là một quốc gia nằm ở khu vực Đông Nam Á, nổi tiếng với nền văn hóa đa dạng và phong phú. Từ Bắc vào Nam, mỗi vùng miền đều mang trong mình nét đặc trưng riêng, từ trang phục truyền thống, phong tục, tập quán đến các món ăn nổi tiếng. Hà Nội, thủ đô của Việt Nam, có lịch sử lâu đời và sở hữu nhiều công trình kiến trúc cổ kính như Văn Miếu Quốc Tử Giám, Hồ Gươm. Trong khi đó, thành phố Hồ Chí Minh, trung tâm kinh tế lớn nhất, lại mang dáng vẻ hiện đại, sôi động với những tòa nhà chọc trời. Việt Nam còn có nhiều danh lam thắng cảnh nổi tiếng như Vịnh Hạ Long - kỳ quan thiên nhiên của thế giới, phố cổ Hội An, quần thể Tràng An ở Ninh Bình. Ẩm thực Việt Nam cũng là một phần quan trọng, được nhiều người trên thế giới yêu thích nhờ hương vị tinh tế, đậm đà. Những món ăn như phở, bánh mì, gỏi cuốn đều mang hương vị đặc trưng và hấp dẫn. Đặc biệt, lòng mến khách và tình cảm chân thành của người Việt để lại ấn tượng sâu sắc với du khách. Với tất cả vẻ đẹp văn hóa và tự nhiên, Việt Nam là một điểm đến du lịch hấp dẫn, thu hút đông đảo du khách quốc tế.`\nconsole.log(&#x27;độ dài: &#x27;, messageContent.length);\nawait messageInput.sendKeys(messageContent);\nawait messageInput.sendKeys(Key.ENTER);\nawait driver.sleep(500);\n// Kiểm tra kết quả kỳ vọng: Hiển thị thông báo lỗi\nconst errorElement = await driver.wait(\n  until.elementLocated(\n    By.css(\n      \&quot;.Toastify__toast.Toastify__toast--error\&quot;,\n    ),\n  ),\n  5000,\n);\nconst errorMessage = await errorElement?.getText();\nawait driver.sleep(500);\n// So sánh với thông báo lỗi dự kiến\nexpect(errorMessage).to.equal(\&quot;Nội dung tin nhắn chỉ chứa tối đa 500 ký tự\&quot;);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5066ms&quot;,&quot;estack&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5066ms\n    at D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\node_modules\\selenium-webdriver\\lib\\webdriver.js:928:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;feb4120e-59a5-46d8-b5bc-47291c1f66d1&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiVanBan_TC_14_5 - Gửi tin nhắn văn bản nhập sql injection&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản GuiVanBan_TC_14_5 - Gửi tin nhắn văn bản nhập sql injection&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3732,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\nconst messageInput = await driver.findElement(\n  By.css(\&quot;textarea[name=&#x27;message&#x27;]\&quot;),\n);\nconst messageContent = `&#x27; OR &#x27;1&#x27; = &#x27;1`\nawait messageInput.sendKeys(messageContent);\nawait messageInput.sendKeys(Key.ENTER);\nawait driver.sleep(3000);\n// Lấy danh sách tin nhắn\nconst messages = await driver.findElements(By.css(\&quot;.message\&quot;)); // `.message-content` là selector của mỗi tin nhắn\n// Lấy tin nhắn cuối cùng\nconst lastMessage = messages[messages.length - 1];\nconst lastMessageContent = await lastMessage.getText();\n// Kiểm tra xem nội dung tin nhắn cuối có khớp không\nexpect(lastMessageContent).to.equal(messageContent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8445777a-f471-4188-9fc7-f9c334912477&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiVanBan_TC_14_6 - Gửi tin nhắn văn bản nhập html injection&quot;,&quot;fullTitle&quot;:&quot;GuiVanBan_TC_14 - Gửi tin nhắn văn bản GuiVanBan_TC_14_6 - Gửi tin nhắn văn bản nhập html injection&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4180,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\nconst messageInput = await driver.findElement(\n  By.css(\&quot;textarea[name=&#x27;message&#x27;]\&quot;),\n);\nconst messageContent = `&lt;script&gt;alert(&#x27;Đây là một cuộc tấn công HTML Injection!&#x27;);&lt;/script&gt;`\nawait messageInput.sendKeys(messageContent);\nawait messageInput.sendKeys(Key.ENTER);\nawait driver.sleep(3000);\n// Lấy danh sách tin nhắn\nconst messages = await driver.findElements(By.css(\&quot;.message\&quot;)); // `.message-content` là selector của mỗi tin nhắn\n// Lấy tin nhắn cuối cùng\nconst lastMessage = messages[messages.length - 1];\nconst lastMessageContent = await lastMessage.getText();\n// Kiểm tra xem nội dung tin nhắn cuối có khớp không\nexpect(lastMessageContent).to.equal(messageContent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1c9aa0c3-7d8c-414c-b0fd-d70901b73974&quot;,&quot;parentUUID&quot;:&quot;c8150900-aba4-4719-8c67-b58908f39db8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;68246448-6630-4120-bcf6-1fb3cd633e18&quot;,&quot;7ae13f41-307f-47ac-bc48-7f3af293c48e&quot;,&quot;cc3d4ea1-0a43-4c10-ae8d-7b0f01fe59a7&quot;,&quot;8445777a-f471-4188-9fc7-f9c334912477&quot;,&quot;1c9aa0c3-7d8c-414c-b0fd-d70901b73974&quot;],&quot;failures&quot;:[&quot;feb4120e-59a5-46d8-b5bc-47291c1f66d1&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:23201,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;title&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh&quot;,&quot;fullFile&quot;:&quot;D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\test\\tc_15.js&quot;,&quot;file&quot;:&quot;\\test\\tc_15.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh \&quot;before all\&quot; hook in \&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2305,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Khởi tạo WebDriver cho trình duyệt Chrome\ndriver = await new Builder().forBrowser(Browser.CHROME).build();\nawait handleLogin(driver);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61c0daee-4f6a-4f30-a74c-d3fa9f8651e7&quot;,&quot;parentUUID&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh \&quot;after all\&quot; hook in \&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Đóng WebDriver sau khi hoàn thành kiểm thử\nawait driver.quit();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f91bcd92-7b68-4501-80a4-a199c73d5aca&quot;,&quot;parentUUID&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh \&quot;after each\&quot; hook in \&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1009,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await driver.sleep(1000)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9fcda348-c7f2-4ac0-b118-980a1bfa28d7&quot;,&quot;parentUUID&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GuiHinhAnh_TC_15_1 - Gửi tin nhắn hình ảnh không đúng định dạng ảnh&quot;,&quot;fullTitle&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh GuiHinhAnh_TC_15_1 - Gửi tin nhắn hình ảnh không đúng định dạng ảnh&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5792,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pathKey = path.resolve(__dirname, &#x27;../files&#x27;, &#x27;final.docx&#x27;)\nconst expectRs = \&quot;File không đúng định dạng ảnh\&quot;\n// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst sendImageInput = await driver.findElement(\n    By.id(\&quot;upload-image-btn\&quot;),\n);\nawait sendImageInput.sendKeys(pathKey); // Đảm bảo ô tin nhắn trống\n// Kiểm tra kết quả kỳ vọng: Hiển thị thông báo lỗi\nconst errorElement = await driver.wait(\n    until.elementLocated(\n        By.css(\n            \&quot;.Toastify__toast.Toastify__toast--error\&quot;,\n        ),\n    ),\n    5000,\n);\nconst errorMessage = await errorElement?.getText();\nawait driver.sleep(500);\n// So sánh với thông báo lỗi dự kiến\nexpect(errorMessage).to.equal(expectRs);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5009ms&quot;,&quot;estack&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5009ms\n    at D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\node_modules\\selenium-webdriver\\lib\\webdriver.js:928:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;804ef8c0-7f97-477f-ad50-11fa828d497c&quot;,&quot;parentUUID&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiHinhAnh_TC_15_2 - Gửi tin nhắn hình ảnh đúng định dạng ảnh&quot;,&quot;fullTitle&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh GuiHinhAnh_TC_15_2 - Gửi tin nhắn hình ảnh đúng định dạng ảnh&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6814,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pathKey = path.resolve(__dirname, &#x27;../files&#x27;, &#x27;change.png&#x27;)\nconst expectRs = &#x27;img&#x27;\n// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst sendImageInput = await driver.findElement(\n    By.id(\&quot;upload-image-btn\&quot;),\n);\nawait sendImageInput.sendKeys(pathKey);\nawait driver.sleep(6000);\n// Lấy danh sách tin nhắn\nconst messages = await driver.findElements(By.css(\&quot;.message\&quot;)); // `.message-content` là selector của mỗi tin nhắn\n// Lấy tin nhắn cuối cùng\nconst lastMessage = messages[messages.length - 1];\n// Kiểm tra xem có phần tử con là &lt;img&gt; không\nconst imgElement = await lastMessage.findElement(By.css(expectRs));\n// Kiểm tra sự tồn tại của phần tử &lt;img&gt;\nexpect(imgElement).to.exist;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c12b496-c6a0-4e13-907c-42420fa3d8ae&quot;,&quot;parentUUID&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiHinhAnh_TC_15_3 - Gửi tin nhắn hình ảnh với đuôi file không được phép&quot;,&quot;fullTitle&quot;:&quot;GuiHinhAnh_TC_15 - Gửi tin nhắn hình ảnh GuiHinhAnh_TC_15_3 - Gửi tin nhắn hình ảnh với đuôi file không được phép&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5617,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pathKey = path.resolve(__dirname, &#x27;../files&#x27;, &#x27;change.zip&#x27;)\nconst expectRs = \&quot;File không được phép gửi\&quot;\n// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst sendImageInput = await driver.findElement(\n    By.id(\&quot;upload-image-btn\&quot;),\n);\nawait sendImageInput.sendKeys(pathKey);\n// Kiểm tra kết quả kỳ vọng: Hiển thị thông báo lỗi\nconst errorElement = await driver.wait(\n    until.elementLocated(\n        By.css(\n            \&quot;.Toastify__toast.Toastify__toast--error\&quot;,\n        ),\n    ),\n    5000,\n);\nconst errorMessage = await errorElement?.getText();\nawait driver.sleep(500);\n// So sánh với thông báo lỗi dự kiến\nexpect(errorMessage).to.equal(expectRs);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5054ms&quot;,&quot;estack&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5054ms\n    at D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\node_modules\\selenium-webdriver\\lib\\webdriver.js:928:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;773c0ae7-6cab-4486-9628-bb67e344f99f&quot;,&quot;parentUUID&quot;:&quot;b532e771-62f3-4e36-a58b-fa4266304762&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;0c12b496-c6a0-4e13-907c-42420fa3d8ae&quot;],&quot;failures&quot;:[&quot;804ef8c0-7f97-477f-ad50-11fa828d497c&quot;,&quot;773c0ae7-6cab-4486-9628-bb67e344f99f&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:18223,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000},{&quot;uuid&quot;:&quot;9fa4974e-5ab8-45e9-adcb-a7978f5b5c74&quot;,&quot;title&quot;:&quot;GuiFile_TC_16 - Gửi tin nhắn file&quot;,&quot;fullFile&quot;:&quot;D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\test\\tc_16.js&quot;,&quot;file&quot;:&quot;\\test\\tc_16.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;GuiFile_TC_16 - Gửi tin nhắn file\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiFile_TC_16 - Gửi tin nhắn file \&quot;before all\&quot; hook in \&quot;GuiFile_TC_16 - Gửi tin nhắn file\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2285,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Khởi tạo WebDriver cho trình duyệt Chrome\ndriver = await new Builder().forBrowser(Browser.CHROME).build();\nawait handleLogin(driver);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c8a4af4-0232-4058-ac07-43a4086f6a2c&quot;,&quot;parentUUID&quot;:&quot;9fa4974e-5ab8-45e9-adcb-a7978f5b5c74&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;GuiFile_TC_16 - Gửi tin nhắn file\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiFile_TC_16 - Gửi tin nhắn file \&quot;after all\&quot; hook in \&quot;GuiFile_TC_16 - Gửi tin nhắn file\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Đóng WebDriver sau khi hoàn thành kiểm thử\nawait driver.quit();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff10e4a5-41c5-45a2-986d-732da626f3ac&quot;,&quot;parentUUID&quot;:&quot;9fa4974e-5ab8-45e9-adcb-a7978f5b5c74&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;GuiFile_TC_16 - Gửi tin nhắn file\&quot;&quot;,&quot;fullTitle&quot;:&quot;GuiFile_TC_16 - Gửi tin nhắn file \&quot;after each\&quot; hook in \&quot;GuiFile_TC_16 - Gửi tin nhắn file\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1006,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await driver.sleep(1000)&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;204f5f60-3bcd-4764-a440-565676abbaa2&quot;,&quot;parentUUID&quot;:&quot;9fa4974e-5ab8-45e9-adcb-a7978f5b5c74&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;GuiFile_TC_16_1 - Gửi tin nhắn file hợp lệ&quot;,&quot;fullTitle&quot;:&quot;GuiFile_TC_16 - Gửi tin nhắn file GuiFile_TC_16_1 - Gửi tin nhắn file hợp lệ&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7787,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pathKey = path.resolve(__dirname, &#x27;../files&#x27;, &#x27;change.png&#x27;)\nconst expectRs = &#x27;a&#x27;\n// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst sendFileInput = await driver.findElement(\n    By.id(\&quot;upload-file-btn\&quot;),\n);\nawait sendFileInput.sendKeys(pathKey);\nawait driver.sleep(7000);\n// Lấy danh sách tin nhắn\nconst messages = await driver.findElements(By.css(\&quot;.message\&quot;)); // `.message-content` là selector của mỗi tin nhắn\n// Lấy tin nhắn cuối cùng\nconst lastMessage = messages[messages.length - 1];\nconst lastMessageTag = await lastMessage.getTagName(); // Lấy tên thẻ\n// So sánh với tên thẻ mong đợi\nexpect(lastMessageTag).to.equal(expectRs);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;46cd5fd0-ea87-42bc-9f6d-43ec7bfb26cf&quot;,&quot;parentUUID&quot;:&quot;9fa4974e-5ab8-45e9-adcb-a7978f5b5c74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;GuiFile_TC_16_2 - Gửi tin nhắn file với đuôi file không được phép&quot;,&quot;fullTitle&quot;:&quot;GuiFile_TC_16 - Gửi tin nhắn file GuiFile_TC_16_2 - Gửi tin nhắn file với đuôi file không được phép&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5778,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;const pathKey = path.resolve(__dirname, &#x27;../files&#x27;, &#x27;change.zip&#x27;)\nconst expectRs = \&quot;File không được phép gửi\&quot;\n// Giả định người dùng đã đăng nhập và đang ở trang nhắn tin\nawait driver.get(\&quot;http://localhost:5173/chats/6641d48a0e56ccbea8104679\&quot;); // URL trang nhắn tin\nawait driver.sleep(500);\n// Bước 1: Không nhập nội dung vào ô tin nhắn\nconst sendImageInput = await driver.findElement(\n    By.id(\&quot;upload-file-btn\&quot;),\n);\nawait sendImageInput.sendKeys(pathKey);\n// Kiểm tra kết quả kỳ vọng: Hiển thị thông báo lỗi\nconst errorElement = await driver.wait(\n    until.elementLocated(\n        By.css(\n            \&quot;.Toastify__toast.Toastify__toast--error\&quot;,\n        ),\n    ),\n    5000,\n);\nconst errorMessage = await errorElement.getText();\nawait driver.sleep(500);\n// So sánh với thông báo lỗi dự kiến\nexpect(errorMessage).to.equal(expectRs);&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5040ms&quot;,&quot;estack&quot;:&quot;TimeoutError: Waiting for element to be located By(css selector, .Toastify__toast.Toastify__toast--error)\nWait timed out after 5040ms\n    at D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\node_modules\\selenium-webdriver\\lib\\webdriver.js:928:22\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)&quot;},&quot;uuid&quot;:&quot;0026a70b-70ab-4a16-baf5-54b3275cd5da&quot;,&quot;parentUUID&quot;:&quot;9fa4974e-5ab8-45e9-adcb-a7978f5b5c74&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;46cd5fd0-ea87-42bc-9f6d-43ec7bfb26cf&quot;],&quot;failures&quot;:[&quot;0026a70b-70ab-4a16-baf5-54b3275cd5da&quot;],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13565,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:30000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.8.2&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;AutoTest&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;D:\\DAI_HOC\\NAM_4\\KI_1\\KiemThu\\AutoTest\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>